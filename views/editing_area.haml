- case locals[:model]
- when :content_fragment

  %form.content_fragment{method: :post, action: @fragment.url_path(:post)}
    %textarea{class: 'heading', name: 'content_fragment[heading]'}= @fragment.heading
    %textarea{class: 'text', name: 'content_fragment[html]'}= @fragment.html
    %fieldset
      %label{for: 'content_fragment[book]'} Book:
      %input{type: :text, name: 'content_fragment[book]', value: @fragment.book || @fragment.next_unused.book}
      = haml :publication_state
      %label{for: 'content_fragment[chapter]'} Chapter:
      %input{type: :text, name: 'content_fragment[chapter]', value: @fragment.chapter || @fragment.next_unused.chapter}
      %label{for: 'content_fragment[locale]'} Locale:
      %input{type: :text, name: 'content_fragment[locale]', value: @fragment.locale || session[:content_locale]}
      %input{type: :submit, value: 'Save'}
      
- when :exercise

  = haml "#{@exercise.template_name}_form".to_sym if @exercise
